<main *ngIf="profile">

  <!-- <mat-tab-group mat-align-tabs="center">
        <mat-tab style="background: green;" class="textSize"  [label]="yesProfiles()">
            
        </mat-tab> -->

  <!-- <mat-tab class="textSize"  [label]="shortProfiles()">
            <div class="col-3 col-md-2"  *ngFor="let item of profile.shortlisted" style="display: inline-flex;margin: 20px 0px 0px 10px; padding-left: 0px;padding-right: 0px;">

                <div *ngIf="profile.shortlisted" class="imageSet">
                      <a (click)="shareData(item.id,'','shortlisted')">
                          <img style="width: 100%; height: 120px ;background-color: lightblue;margin-top: 20px;border: 5px solid #34b7f1;border-radius: 10px;position: relative;" [src]=getProfilePhoto(item.photo,item.gender) alt="profile"><br>
                          <img style="width: 30px;position: absolute;right: -7px;margin-top: -30px;" src="../../../assets/star.svg" alt="like">
                        </a>
                    <p style="text-align: center; display: inline-block;font-size: 14px;margin-top:10px" [innerHTML]="setName(item.name,1)"></p>
                  </div>
                </div>
        </mat-tab>

        <mat-tab class="textSize" [label]="noProfiles()">
            <div class=" col-3 col-md-2" *ngFor="let item of profile.rejected" style="display: inline-flex;margin: 20px 0px 0px 10px; padding-left: 0px;padding-right: 0px;">

                <div *ngIf="profile.rejected"  class="imageSet">
                  <a (click)="shareData(item.id,'','rejected')">
                    <img style="width: 100%; height: 120px;background-color: lightblue;margin-top: 20px;border: 5px solid #34b7f1;border-radius: 10px;position: relative;" [src]=getProfilePhoto(item.photo,item.gender) alt="profile"><br>
                    <img style="width: 30px;position: absolute;right: -7px;margin-top: -30px;" src="../../../assets/cancel.svg" alt="like">
                  </a>
                    <p style="text-align: center;font-size: 14px;display: inline-block;margin-top:10px" [innerHTML]="setName(item.name,1)"></p>
                  </div>
                </div>
        </mat-tab> -->
  <!-- </mat-tab-group> -->

  <!-- <div class="col-3 col-md-2"   *ngFor="let item of profile" style="display: inline-flex;margin: 20px 0px 0px 10px; padding-left: 0px;padding-right: 0px;">

        <div *ngIf="type == contacted" class="imageSet" >
              <a (click)="shareData(item.id,'1','contacted')">
                  <img id="contactedImage" style="width: 100%; height: 120px ;background-color: lightblue;margin-top: 20px;border: 5px solid #34b7f1;border-radius: 10px;position: relative;" [src]=getProfilePhoto(item.photo,item.gender) alt="profile"><br>
                  <img style="width: 30px;position: absolute;right: -7px;margin-top: -30px;" src="../../../assets/checked.svg" alt="like">
                </a>
            <p style="text-align: center; display: inline-block;font-size: 14px;margin-top:10px" [innerHTML]="setName(item.name,0)"></p>
          </div>
        </div>

        <div class=" col-3 col-md-2" *ngFor="let item of profile" style="display: inline-flex;margin: 20px 0px 0px 10px; padding-left: 0px;padding-right: 0px;">

          <div *ngIf="type == rejected"  class="imageSet">
            <a (click)="shareData(item.id,'','rejected')">
              <img style="width: 100%; height: 120px;background-color: lightblue;margin-top: 20px;border: 5px solid #34b7f1;border-radius: 10px;position: relative;" [src]=getProfilePhoto(item.photo,item.gender) alt="profile"><br>
              <img style="width: 30px;position: absolute;right: -7px;margin-top: -30px;" src="../../../assets/cancel.svg" alt="like">
            </a>
              <p style="text-align: center;font-size: 14px;display: inline-block;margin-top:10px" [innerHTML]="setName(item.name,1)"></p>
            </div>
          </div>

          <div  class="imageSet"  >
            <div class="col-3 col-md-2"  *ngFor="let item of profile" style="display: inline-flex;margin: 20px 0px 0px 10px; padding-left: 0px;padding-right: 0px;" >
                  <a (click)="shareData(item.id,'','shortlisted')">
                      <img style="width: 100%; height: 120px ;background-color: lightblue;margin-top: 20px;border: 5px solid #34b7f1;border-radius: 10px;position: relative;" [src]=getProfilePhoto(item.photo,item.gender) alt="profile"><br>
                      <img style="width: 30px;position: absolute;right: -7px;margin-top: -30px;" src="../../../assets/star.svg" alt="like">
                    </a>
                <p style="text-align: center; display: inline-block;font-size: 14px;margin-top:10px" [innerHTML]="setName(item.name,1)"></p>
              </div>
            </div> -->
  <div style="padding-top: 10px;padding-bottom: 200px;">


    <mat-accordion>
      <mat-expansion-panel *ngFor="let item of profile;let i = index" [togglePosition]="'end'" multi="true"
        [expanded]="panelOpenState === i" (opened)="setPanelOpenState(i)">
        <mat-expansion-panel-header [collapsedHeight]="'100%'" [expandedHeight]="'100%'">

          <mat-card class="example-card">


            <mat-card-title-group [hidden]="panelOpenState == i">
              <mat-card-title>
                {{item.profile.name}}
              </mat-card-title>
              <mat-card-subtitle>
                {{item.profile.about}}
              </mat-card-subtitle>
              <img mat-card-lg-image [src]=getProfilePhoto(item.profile.photo,item.profile.gender) alt="item.profile.name">
            </mat-card-title-group>


            <mat-card-header [hidden]="panelOpenState!=i">
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>{{item.profile.name}}</mat-card-title>
              <mat-card-subtitle>{{item.profile.about}}</mat-card-subtitle>
            </mat-card-header>
            <img mat-card-image [src]=getProfilePhoto(item.profile.photo,item.profile.gender) alt="item.profile.name"
              [hidden]="panelOpenState!=i">

            <ng-container *ngIf="panelOpenState === i">
              <mat-card-actions style="margin-bottom: 0px;" align="center">
                <button (click)="call(item.family.mobile)" class="setButtons" mat-fab style="color: green;background: white;"
                  aria-label="Example icon-button with a heart icon" *ngIf="type === 'contacted'">
                  <mat-icon>call</mat-icon>
                </button>
                <button (click)="profileReAnswer(item.profile.id,'YES',i)" class="setButtons" mat-fab style="color: green;background: white;"
                  aria-label="Example icon-button with a heart icon" *ngIf="type != 'contacted'">
                  <mat-icon>check</mat-icon>
                </button>
                <button (click)="profileReAnswer(item.profile.id,'SHORTLIST',i)" class="setButtons" mat-fab style="color: red;background: white;"
                  aria-label="Example icon-button with a heart icon" *ngIf="type != 'contacted'">
                  <mat-icon>favorite</mat-icon>
                </button>
                <button (click)="profileReAnswer(item.profile.id,'NO',i)" class="setButtons" mat-fab style="color: grey;background: white;"
                  aria-label="Example icon-button with a heart icon" *ngIf="type != 'contacted' && type != 'rejected'">
                  <mat-icon>close</mat-icon>
                </button>
              </mat-card-actions>
            </ng-container>


            <ng-container *ngIf="panelOpenState != i">
              <mat-card-actions style="margin-bottom: 0px;" align="end">
                <button (click)="call(item.family.mobile)" class="setButtons" mat-fab style="color: green;background: white;"
                  aria-label="Example icon-button with a heart icon" *ngIf="type === 'contacted'">
                  <mat-icon>call</mat-icon>
                </button>
                <button (click)="profileReAnswer(item.profile.id,'YES',i)" class="setButtons" mat-fab style="color: green;background: white;"
                  aria-label="Example icon-button with a heart icon" *ngIf="type != 'contacted'">
                  <mat-icon>check</mat-icon>
                </button>
                <button (click)="profileReAnswer(item.profile.id,'SHORTLIST',i)" class="setButtons" mat-fab style="color: red;background: white;"
                  aria-label="Example icon-button with a heart icon" *ngIf="type != 'contacted'">
                  <mat-icon>favorite</mat-icon>
                </button>
                <button (click)="profileReAnswer(item.profile.id,'NO',i)" class="setButtons" mat-fab style="color: grey;background: white;"
                  aria-label="Example icon-button with a heart icon" *ngIf="type != 'contacted' && type != 'rejected'">
                  <mat-icon>close</mat-icon>
                </button>
              </mat-card-actions>
            </ng-container>
          </mat-card>
        </mat-expansion-panel-header>
        <h5 class="contentHeader">PERSONAL DETAILS</h5>
        <div class="container" style="margin-top: 20px;">
          <div class="row">
            <div class="col-3 contentPara">
              Age
            </div>
            <div class="col-3 contentPara">
              Height
            </div>
            <div class="col-3 contentPara" >
              Weight
            </div>
            <div class="col-3 contentPara">
              Marital Status
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/calendar.svg" alt="Age"> 25
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/scale.svg" alt="Height">  5'8"
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/weight.svg" alt="Weight">  {{item.profile.weight}}
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/heart.svg" alt="Marital Status">  {{item.profile.marital_status}}
            </div>
  
          </div>
        </div>

        <h5 class="contentHeader">CAREER DETAILS</h5>
        <div class="container" style="margin-top: 20px;">
          <div class="row">
            <div class="col-3 contentPara">
             Occupation
            </div>
            <div class="col-3 contentPara">
              Qualification
            </div>
            <div class="col-3 contentPara">
              Designation
            </div>
            <div class="col-3 contentPara">
              Income
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/suitcase.svg" alt="Age">  {{item.profile.occupation}}
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/graduation.svg" alt="Height">  {{item.profile.education}}
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/graduation.svg" alt="Weight">  {{item.profile.profession}}
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/rupee.svg" alt="Marital Status">  {{item.profile.monthly_income}} LPA
            </div>
  
          </div>
        </div>

        <h5 class="contentHeader">HOROSCOPIC DETAILS</h5>
        <div class="container" style="margin-top: 20px;">
          <div class="row" >
            <div class="col-3 contentPara">
              D.O.B
            </div>
            <div class="col-3 contentPara">
              Birth Place
            </div>
            <div class="col-3 contentPara">
              Birth Time
            </div>
            <div class="col-3 contentPara">
              Manglik Status
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/birthday.svg" alt="D.O.B">  {{item.profile.birth_date}}
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/birthplace.svg" alt="Birth Place">  {{item.profile.birth_place}}
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/clock.svg" alt="Birth Time"> {{item.profile.birth_time}}
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/tarot.svg" alt="Manglik Status">  {{item.profile.manglik}}
            </div>
  
          </div>
        </div>

        <h5 class="contentHeader">FAMILY DETAILS</h5>
        <div class="container" style="margin-top: 20px;">
          <div class="row">
            <div class="col-3 contentPara">
             Sisters
            </div>
            <div class="col-3 contentPara">
             Brothers
            </div>
            <div class="col-3 contentPara">
              Mother
            </div>
            <div class="col-3 contentPara">
              Father
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/sisters.svg" alt="Sisters">  {{setMarriageSisters(item.family.unmarried_daughters,item.family.married_daughters)}}
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/brothers.svg" alt="Brothers">  {{setMarriageBrothers( item.family.unmarried_sons,item.family.married_sons)}}
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/parents.svg" alt="Mother">   {{LifeStatus(item.family.mother_status,item.family.occupation_mother)}}
            </div>
            <div class="col-3">
              <img width="20px" src="../assets/parents.svg" alt="Father">  {{LifeStatus(item.family.father_status,item.family.occupation)}}
            </div>
  
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>


  </div>

</main>
